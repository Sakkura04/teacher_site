{% extends 'base.html' %}

{% block style_css %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/profiles.css') }}">
{% endblock %}

{% block main %}
<div class="container">
    <div class="col-md-3">
        <h3>Меню</h3>
        <ul class="list-group">
            <a class="list-group-item" href="/add_lesson">Додати урок</a>
            <a class="list-group-item" href="/all_lessons">Переглянути всі уроки</a>
            <a class="list-group-item" href="/schedule">Подивитися розклад</a>
            <a class="list-group-item" href="/article">Написати статтю</a>
        </ul>
    </div>

    <div class="column">
        <div class="left-column">
            <h3>Інформація про вчителя</h3>
            <form action="/update_teacher_info" method="post" enctype="multipart/form-data">
                <ul>
                    <li><strong>Ім'я:</strong> <input type="text" name="name" value="{{ user.name }}"></li>
                    <li><strong>Прізвище:</strong> <input type="text" name="surname" value="{{ user.surname }}"></li>
                    <li><strong>По батькові:</strong> <input type="text" name="midname" value="{{ user.midname }}"></li>
                    <li><strong>Email:</strong> <input type="email" name="email" value="{{ user.email }}"></li>
                    <li><strong>Телефон:</strong> <input type="tel" name="phone" value="{{ user.phone }}"></li>
                    <li style="display: none;"><input type="file" name="photo" id="hidden-photo"></li>
                </ul>
                <button class="list-group-item" type="submit">Update</button>
            </form>
        </div>

        <div class="right-column">
            <img class="user-photo"  src="{{ url_for('static', filename='uploads/' + user.photo) }}" alt="User Photo">
            <label for="photo"><strong>Змінити фото:</strong></label>
            <input type="file" name="photo" id="photo" onchange="syncPhotoInput()">
        </div>
    </div>
</div>


<script>
    function syncPhotoInput() {
        var photoInput = document.getElementById('photo');
        var hiddenPhotoInput = document.getElementById('hidden-photo');

        // Copy selected file to the hidden input
        hiddenPhotoInput.files = photoInput.files;
    }
</script>
{% endblock %}
